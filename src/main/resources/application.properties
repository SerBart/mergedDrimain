# --- Development Default Configuration (H2) ---
# For production, use application-prod.properties with PostgreSQL

# H2 Database Configuration (Development Default)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driverClassName=org.h2.Driver
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA + Hibernate for H2
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.show-sql=true
spring.jpa.defer-datasource-initialization=true

# Disable Flyway for H2 development (use JPA DDL instead)
spring.flyway.enabled=false
spring.sql.init.mode=always




# JWT – użyj plain lub base64 (nie obu)
jwt.secret.plain=super_tajny_klucz_dev_32+_znakow_!!!_123456
# jwt.secret.base64=
jwt.expiration.minutes=60

# JWT secret for app configuration (as specified in requirements)
app.jwt.secret=REPLACE_WITH_STRONG_SECRET_AT_LEAST_32_CHARS_LONG_1234567890

# WAŻNE: wyłącz SQL initialization przy Flyway – inaczej tworzy cykl zależności

# Wyłącz defer – nie chcemy, by SQL init zależał od JPA
spring.jpa.defer-datasource-initialization=false

# (opcjonalnie) Jeśli startujesz na istniejącej bazie bez historii Flyway:
spring.flyway.enabled=false
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.sql.init.mode=never

# --- Attachment Storage Configuration ---
app.attachments.base-path=uploads/attachments
app.attachments.max-file-size-bytes=10485760

# --- SSE Configuration ---
app.sse.max-clients=100
app.sse.heartbeat-interval-seconds=30
app.sse.client-timeout-seconds=300